// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package provider

import (
	"github.com/aballiet/terraform-provider-airbyte/internal/sdk/pkg/models/shared"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

func (r *DestinationDefinitionResourceModel) ToSharedDestinationDefinitionCreate() *shared.DestinationDefinitionCreate {
	name := r.Name.ValueString()
	dockerRepository := r.DockerRepository.ValueString()
	dockerImageTag := r.DockerImageTag.ValueString()
	documentationURL := r.DocumentationURL.ValueString()
	icon := new(string)
	if !r.Icon.IsUnknown() && !r.Icon.IsNull() {
		*icon = r.Icon.ValueString()
	} else {
		icon = nil
	}
	var resourceRequirements *shared.ActorDefinitionResourceRequirements
	if r.ResourceRequirements != nil {
		var defaultVar *shared.ResourceRequirements
		if r.ResourceRequirements.Default != nil {
			cpuRequest := new(string)
			if !r.ResourceRequirements.Default.CPURequest.IsUnknown() && !r.ResourceRequirements.Default.CPURequest.IsNull() {
				*cpuRequest = r.ResourceRequirements.Default.CPURequest.ValueString()
			} else {
				cpuRequest = nil
			}
			cpuLimit := new(string)
			if !r.ResourceRequirements.Default.CPULimit.IsUnknown() && !r.ResourceRequirements.Default.CPULimit.IsNull() {
				*cpuLimit = r.ResourceRequirements.Default.CPULimit.ValueString()
			} else {
				cpuLimit = nil
			}
			memoryRequest := new(string)
			if !r.ResourceRequirements.Default.MemoryRequest.IsUnknown() && !r.ResourceRequirements.Default.MemoryRequest.IsNull() {
				*memoryRequest = r.ResourceRequirements.Default.MemoryRequest.ValueString()
			} else {
				memoryRequest = nil
			}
			memoryLimit := new(string)
			if !r.ResourceRequirements.Default.MemoryLimit.IsUnknown() && !r.ResourceRequirements.Default.MemoryLimit.IsNull() {
				*memoryLimit = r.ResourceRequirements.Default.MemoryLimit.ValueString()
			} else {
				memoryLimit = nil
			}
			defaultVar = &shared.ResourceRequirements{
				CPURequest:    cpuRequest,
				CPULimit:      cpuLimit,
				MemoryRequest: memoryRequest,
				MemoryLimit:   memoryLimit,
			}
		}
		var jobSpecific []shared.JobTypeResourceLimit = nil
		for _, jobSpecificItem := range r.ResourceRequirements.JobSpecific {
			jobType := shared.JobType(jobSpecificItem.JobType.ValueString())
			cpuRequest1 := new(string)
			if !jobSpecificItem.ResourceRequirements.CPURequest.IsUnknown() && !jobSpecificItem.ResourceRequirements.CPURequest.IsNull() {
				*cpuRequest1 = jobSpecificItem.ResourceRequirements.CPURequest.ValueString()
			} else {
				cpuRequest1 = nil
			}
			cpuLimit1 := new(string)
			if !jobSpecificItem.ResourceRequirements.CPULimit.IsUnknown() && !jobSpecificItem.ResourceRequirements.CPULimit.IsNull() {
				*cpuLimit1 = jobSpecificItem.ResourceRequirements.CPULimit.ValueString()
			} else {
				cpuLimit1 = nil
			}
			memoryRequest1 := new(string)
			if !jobSpecificItem.ResourceRequirements.MemoryRequest.IsUnknown() && !jobSpecificItem.ResourceRequirements.MemoryRequest.IsNull() {
				*memoryRequest1 = jobSpecificItem.ResourceRequirements.MemoryRequest.ValueString()
			} else {
				memoryRequest1 = nil
			}
			memoryLimit1 := new(string)
			if !jobSpecificItem.ResourceRequirements.MemoryLimit.IsUnknown() && !jobSpecificItem.ResourceRequirements.MemoryLimit.IsNull() {
				*memoryLimit1 = jobSpecificItem.ResourceRequirements.MemoryLimit.ValueString()
			} else {
				memoryLimit1 = nil
			}
			resourceRequirements1 := shared.ResourceRequirements{
				CPURequest:    cpuRequest1,
				CPULimit:      cpuLimit1,
				MemoryRequest: memoryRequest1,
				MemoryLimit:   memoryLimit1,
			}
			jobSpecific = append(jobSpecific, shared.JobTypeResourceLimit{
				JobType:              jobType,
				ResourceRequirements: resourceRequirements1,
			})
		}
		resourceRequirements = &shared.ActorDefinitionResourceRequirements{
			Default:     defaultVar,
			JobSpecific: jobSpecific,
		}
	}
	out := shared.DestinationDefinitionCreate{
		Name:                 name,
		DockerRepository:     dockerRepository,
		DockerImageTag:       dockerImageTag,
		DocumentationURL:     documentationURL,
		Icon:                 icon,
		ResourceRequirements: resourceRequirements,
	}
	return &out
}

func (r *DestinationDefinitionResourceModel) RefreshFromSharedDestinationDefinitionRead(resp *shared.DestinationDefinitionRead) {
	r.Custom = types.BoolPointerValue(resp.Custom)
	r.DestinationDefinitionID = types.StringValue(resp.DestinationDefinitionID)
	r.DockerImageTag = types.StringValue(resp.DockerImageTag)
	r.DockerRepository = types.StringValue(resp.DockerRepository)
	r.DocumentationURL = types.StringValue(resp.DocumentationURL)
	r.Icon = types.StringPointerValue(resp.Icon)
	r.Name = types.StringValue(resp.Name)
	r.NormalizationConfig.NormalizationIntegrationType = types.StringPointerValue(resp.NormalizationConfig.NormalizationIntegrationType)
	r.NormalizationConfig.NormalizationRepository = types.StringPointerValue(resp.NormalizationConfig.NormalizationRepository)
	r.NormalizationConfig.NormalizationTag = types.StringPointerValue(resp.NormalizationConfig.NormalizationTag)
	r.NormalizationConfig.Supported = types.BoolPointerValue(resp.NormalizationConfig.Supported)
	r.ProtocolVersion = types.StringPointerValue(resp.ProtocolVersion)
	if resp.ReleaseDate != nil {
		r.ReleaseDate = types.StringValue(resp.ReleaseDate.String())
	} else {
		r.ReleaseDate = types.StringNull()
	}
	if resp.ReleaseStage != nil {
		r.ReleaseStage = types.StringValue(string(*resp.ReleaseStage))
	} else {
		r.ReleaseStage = types.StringNull()
	}
	if resp.ResourceRequirements == nil {
		r.ResourceRequirements = nil
	} else {
		r.ResourceRequirements = &ActorDefinitionResourceRequirements{}
		if resp.ResourceRequirements.Default == nil {
			r.ResourceRequirements.Default = nil
		} else {
			r.ResourceRequirements.Default = &ResourceRequirements{}
			r.ResourceRequirements.Default.CPULimit = types.StringPointerValue(resp.ResourceRequirements.Default.CPULimit)
			r.ResourceRequirements.Default.CPURequest = types.StringPointerValue(resp.ResourceRequirements.Default.CPURequest)
			r.ResourceRequirements.Default.MemoryLimit = types.StringPointerValue(resp.ResourceRequirements.Default.MemoryLimit)
			r.ResourceRequirements.Default.MemoryRequest = types.StringPointerValue(resp.ResourceRequirements.Default.MemoryRequest)
		}
		if len(r.ResourceRequirements.JobSpecific) > len(resp.ResourceRequirements.JobSpecific) {
			r.ResourceRequirements.JobSpecific = r.ResourceRequirements.JobSpecific[:len(resp.ResourceRequirements.JobSpecific)]
		}
		for jobSpecificCount, jobSpecificItem := range resp.ResourceRequirements.JobSpecific {
			var jobSpecific1 JobTypeResourceLimit
			jobSpecific1.JobType = types.StringValue(string(jobSpecificItem.JobType))
			jobSpecific1.ResourceRequirements.CPULimit = types.StringPointerValue(jobSpecificItem.ResourceRequirements.CPULimit)
			jobSpecific1.ResourceRequirements.CPURequest = types.StringPointerValue(jobSpecificItem.ResourceRequirements.CPURequest)
			jobSpecific1.ResourceRequirements.MemoryLimit = types.StringPointerValue(jobSpecificItem.ResourceRequirements.MemoryLimit)
			jobSpecific1.ResourceRequirements.MemoryRequest = types.StringPointerValue(jobSpecificItem.ResourceRequirements.MemoryRequest)
			if jobSpecificCount+1 > len(r.ResourceRequirements.JobSpecific) {
				r.ResourceRequirements.JobSpecific = append(r.ResourceRequirements.JobSpecific, jobSpecific1)
			} else {
				r.ResourceRequirements.JobSpecific[jobSpecificCount].JobType = jobSpecific1.JobType
				r.ResourceRequirements.JobSpecific[jobSpecificCount].ResourceRequirements = jobSpecific1.ResourceRequirements
			}
		}
	}
	if resp.SupportLevel != nil {
		r.SupportLevel = types.StringValue(string(*resp.SupportLevel))
	} else {
		r.SupportLevel = types.StringNull()
	}
	r.SupportsDbt = types.BoolValue(resp.SupportsDbt)
}

func (r *DestinationDefinitionResourceModel) ToSharedDestinationDefinitionUpdate() *shared.DestinationDefinitionUpdate {
	destinationDefinitionID := r.DestinationDefinitionID.ValueString()
	dockerImageTag := new(string)
	if !r.DockerImageTag.IsUnknown() && !r.DockerImageTag.IsNull() {
		*dockerImageTag = r.DockerImageTag.ValueString()
	} else {
		dockerImageTag = nil
	}
	var resourceRequirements *shared.ActorDefinitionResourceRequirements
	if r.ResourceRequirements != nil {
		var defaultVar *shared.ResourceRequirements
		if r.ResourceRequirements.Default != nil {
			cpuRequest := new(string)
			if !r.ResourceRequirements.Default.CPURequest.IsUnknown() && !r.ResourceRequirements.Default.CPURequest.IsNull() {
				*cpuRequest = r.ResourceRequirements.Default.CPURequest.ValueString()
			} else {
				cpuRequest = nil
			}
			cpuLimit := new(string)
			if !r.ResourceRequirements.Default.CPULimit.IsUnknown() && !r.ResourceRequirements.Default.CPULimit.IsNull() {
				*cpuLimit = r.ResourceRequirements.Default.CPULimit.ValueString()
			} else {
				cpuLimit = nil
			}
			memoryRequest := new(string)
			if !r.ResourceRequirements.Default.MemoryRequest.IsUnknown() && !r.ResourceRequirements.Default.MemoryRequest.IsNull() {
				*memoryRequest = r.ResourceRequirements.Default.MemoryRequest.ValueString()
			} else {
				memoryRequest = nil
			}
			memoryLimit := new(string)
			if !r.ResourceRequirements.Default.MemoryLimit.IsUnknown() && !r.ResourceRequirements.Default.MemoryLimit.IsNull() {
				*memoryLimit = r.ResourceRequirements.Default.MemoryLimit.ValueString()
			} else {
				memoryLimit = nil
			}
			defaultVar = &shared.ResourceRequirements{
				CPURequest:    cpuRequest,
				CPULimit:      cpuLimit,
				MemoryRequest: memoryRequest,
				MemoryLimit:   memoryLimit,
			}
		}
		var jobSpecific []shared.JobTypeResourceLimit = nil
		for _, jobSpecificItem := range r.ResourceRequirements.JobSpecific {
			jobType := shared.JobType(jobSpecificItem.JobType.ValueString())
			cpuRequest1 := new(string)
			if !jobSpecificItem.ResourceRequirements.CPURequest.IsUnknown() && !jobSpecificItem.ResourceRequirements.CPURequest.IsNull() {
				*cpuRequest1 = jobSpecificItem.ResourceRequirements.CPURequest.ValueString()
			} else {
				cpuRequest1 = nil
			}
			cpuLimit1 := new(string)
			if !jobSpecificItem.ResourceRequirements.CPULimit.IsUnknown() && !jobSpecificItem.ResourceRequirements.CPULimit.IsNull() {
				*cpuLimit1 = jobSpecificItem.ResourceRequirements.CPULimit.ValueString()
			} else {
				cpuLimit1 = nil
			}
			memoryRequest1 := new(string)
			if !jobSpecificItem.ResourceRequirements.MemoryRequest.IsUnknown() && !jobSpecificItem.ResourceRequirements.MemoryRequest.IsNull() {
				*memoryRequest1 = jobSpecificItem.ResourceRequirements.MemoryRequest.ValueString()
			} else {
				memoryRequest1 = nil
			}
			memoryLimit1 := new(string)
			if !jobSpecificItem.ResourceRequirements.MemoryLimit.IsUnknown() && !jobSpecificItem.ResourceRequirements.MemoryLimit.IsNull() {
				*memoryLimit1 = jobSpecificItem.ResourceRequirements.MemoryLimit.ValueString()
			} else {
				memoryLimit1 = nil
			}
			resourceRequirements1 := shared.ResourceRequirements{
				CPURequest:    cpuRequest1,
				CPULimit:      cpuLimit1,
				MemoryRequest: memoryRequest1,
				MemoryLimit:   memoryLimit1,
			}
			jobSpecific = append(jobSpecific, shared.JobTypeResourceLimit{
				JobType:              jobType,
				ResourceRequirements: resourceRequirements1,
			})
		}
		resourceRequirements = &shared.ActorDefinitionResourceRequirements{
			Default:     defaultVar,
			JobSpecific: jobSpecific,
		}
	}
	out := shared.DestinationDefinitionUpdate{
		DestinationDefinitionID: destinationDefinitionID,
		DockerImageTag:          dockerImageTag,
		ResourceRequirements:    resourceRequirements,
	}
	return &out
}

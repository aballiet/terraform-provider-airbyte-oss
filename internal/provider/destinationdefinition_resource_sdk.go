// Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.

package provider

import (
	"github.com/aballiet/terraform-provider-airbyte/internal/sdk/pkg/models/shared"
	"github.com/hashicorp/terraform-plugin-framework/types"
)

func (r *DestinationDefinitionResourceModel) ToCreateSDKType() *shared.CustomDestinationDefinitionCreate {
	workspaceID := new(string)
	if !r.WorkspaceID.IsUnknown() && !r.WorkspaceID.IsNull() {
		*workspaceID = r.WorkspaceID.ValueString()
	} else {
		workspaceID = nil
	}
	name := r.DestinationDefinition.Name.ValueString()
	dockerRepository := r.DestinationDefinition.DockerRepository.ValueString()
	dockerImageTag := r.DestinationDefinition.DockerImageTag.ValueString()
	documentationURL := r.DestinationDefinition.DocumentationURL.ValueString()
	icon := new(string)
	if !r.DestinationDefinition.Icon.IsUnknown() && !r.DestinationDefinition.Icon.IsNull() {
		*icon = r.DestinationDefinition.Icon.ValueString()
	} else {
		icon = nil
	}
	var resourceRequirements *shared.ActorDefinitionResourceRequirements
	if r.DestinationDefinition.ResourceRequirements != nil {
		var defaultVar *shared.ResourceRequirements
		if r.DestinationDefinition.ResourceRequirements.Default != nil {
			cpuRequest := new(string)
			if !r.DestinationDefinition.ResourceRequirements.Default.CPURequest.IsUnknown() && !r.DestinationDefinition.ResourceRequirements.Default.CPURequest.IsNull() {
				*cpuRequest = r.DestinationDefinition.ResourceRequirements.Default.CPURequest.ValueString()
			} else {
				cpuRequest = nil
			}
			cpuLimit := new(string)
			if !r.DestinationDefinition.ResourceRequirements.Default.CPULimit.IsUnknown() && !r.DestinationDefinition.ResourceRequirements.Default.CPULimit.IsNull() {
				*cpuLimit = r.DestinationDefinition.ResourceRequirements.Default.CPULimit.ValueString()
			} else {
				cpuLimit = nil
			}
			memoryRequest := new(string)
			if !r.DestinationDefinition.ResourceRequirements.Default.MemoryRequest.IsUnknown() && !r.DestinationDefinition.ResourceRequirements.Default.MemoryRequest.IsNull() {
				*memoryRequest = r.DestinationDefinition.ResourceRequirements.Default.MemoryRequest.ValueString()
			} else {
				memoryRequest = nil
			}
			memoryLimit := new(string)
			if !r.DestinationDefinition.ResourceRequirements.Default.MemoryLimit.IsUnknown() && !r.DestinationDefinition.ResourceRequirements.Default.MemoryLimit.IsNull() {
				*memoryLimit = r.DestinationDefinition.ResourceRequirements.Default.MemoryLimit.ValueString()
			} else {
				memoryLimit = nil
			}
			defaultVar = &shared.ResourceRequirements{
				CPURequest:    cpuRequest,
				CPULimit:      cpuLimit,
				MemoryRequest: memoryRequest,
				MemoryLimit:   memoryLimit,
			}
		}
		var jobSpecific []shared.JobTypeResourceLimit = nil
		for _, jobSpecificItem := range r.DestinationDefinition.ResourceRequirements.JobSpecific {
			jobType := shared.JobType(jobSpecificItem.JobType.ValueString())
			cpuRequest1 := new(string)
			if !jobSpecificItem.ResourceRequirements.CPURequest.IsUnknown() && !jobSpecificItem.ResourceRequirements.CPURequest.IsNull() {
				*cpuRequest1 = jobSpecificItem.ResourceRequirements.CPURequest.ValueString()
			} else {
				cpuRequest1 = nil
			}
			cpuLimit1 := new(string)
			if !jobSpecificItem.ResourceRequirements.CPULimit.IsUnknown() && !jobSpecificItem.ResourceRequirements.CPULimit.IsNull() {
				*cpuLimit1 = jobSpecificItem.ResourceRequirements.CPULimit.ValueString()
			} else {
				cpuLimit1 = nil
			}
			memoryRequest1 := new(string)
			if !jobSpecificItem.ResourceRequirements.MemoryRequest.IsUnknown() && !jobSpecificItem.ResourceRequirements.MemoryRequest.IsNull() {
				*memoryRequest1 = jobSpecificItem.ResourceRequirements.MemoryRequest.ValueString()
			} else {
				memoryRequest1 = nil
			}
			memoryLimit1 := new(string)
			if !jobSpecificItem.ResourceRequirements.MemoryLimit.IsUnknown() && !jobSpecificItem.ResourceRequirements.MemoryLimit.IsNull() {
				*memoryLimit1 = jobSpecificItem.ResourceRequirements.MemoryLimit.ValueString()
			} else {
				memoryLimit1 = nil
			}
			resourceRequirements1 := shared.ResourceRequirements{
				CPURequest:    cpuRequest1,
				CPULimit:      cpuLimit1,
				MemoryRequest: memoryRequest1,
				MemoryLimit:   memoryLimit1,
			}
			jobSpecific = append(jobSpecific, shared.JobTypeResourceLimit{
				JobType:              jobType,
				ResourceRequirements: resourceRequirements1,
			})
		}
		resourceRequirements = &shared.ActorDefinitionResourceRequirements{
			Default:     defaultVar,
			JobSpecific: jobSpecific,
		}
	}
	destinationDefinition := shared.DestinationDefinitionCreate{
		Name:                 name,
		DockerRepository:     dockerRepository,
		DockerImageTag:       dockerImageTag,
		DocumentationURL:     documentationURL,
		Icon:                 icon,
		ResourceRequirements: resourceRequirements,
	}
	scopeID := new(string)
	if !r.ScopeID.IsUnknown() && !r.ScopeID.IsNull() {
		*scopeID = r.ScopeID.ValueString()
	} else {
		scopeID = nil
	}
	scopeType := new(shared.ScopeType)
	if !r.ScopeType.IsUnknown() && !r.ScopeType.IsNull() {
		*scopeType = shared.ScopeType(r.ScopeType.ValueString())
	} else {
		scopeType = nil
	}
	out := shared.CustomDestinationDefinitionCreate{
		WorkspaceID:           workspaceID,
		DestinationDefinition: destinationDefinition,
		ScopeID:               scopeID,
		ScopeType:             scopeType,
	}
	return &out
}

func (r *DestinationDefinitionResourceModel) ToGetSDKType() *shared.CustomDestinationDefinitionCreate {
	out := r.ToCreateSDKType()
	return out
}

func (r *DestinationDefinitionResourceModel) ToUpdateSDKType() *shared.DestinationDefinitionUpdate {
	destinationDefinitionID := r.DestinationDefinitionID.ValueString()
	dockerImageTag := new(string)
	if !r.DockerImageTag.IsUnknown() && !r.DockerImageTag.IsNull() {
		*dockerImageTag = r.DockerImageTag.ValueString()
	} else {
		dockerImageTag = nil
	}
	var resourceRequirements *shared.ActorDefinitionResourceRequirements
	if r.ResourceRequirements != nil {
		var defaultVar *shared.ResourceRequirements
		if r.ResourceRequirements.Default != nil {
			cpuRequest := new(string)
			if !r.ResourceRequirements.Default.CPURequest.IsUnknown() && !r.ResourceRequirements.Default.CPURequest.IsNull() {
				*cpuRequest = r.ResourceRequirements.Default.CPURequest.ValueString()
			} else {
				cpuRequest = nil
			}
			cpuLimit := new(string)
			if !r.ResourceRequirements.Default.CPULimit.IsUnknown() && !r.ResourceRequirements.Default.CPULimit.IsNull() {
				*cpuLimit = r.ResourceRequirements.Default.CPULimit.ValueString()
			} else {
				cpuLimit = nil
			}
			memoryRequest := new(string)
			if !r.ResourceRequirements.Default.MemoryRequest.IsUnknown() && !r.ResourceRequirements.Default.MemoryRequest.IsNull() {
				*memoryRequest = r.ResourceRequirements.Default.MemoryRequest.ValueString()
			} else {
				memoryRequest = nil
			}
			memoryLimit := new(string)
			if !r.ResourceRequirements.Default.MemoryLimit.IsUnknown() && !r.ResourceRequirements.Default.MemoryLimit.IsNull() {
				*memoryLimit = r.ResourceRequirements.Default.MemoryLimit.ValueString()
			} else {
				memoryLimit = nil
			}
			defaultVar = &shared.ResourceRequirements{
				CPURequest:    cpuRequest,
				CPULimit:      cpuLimit,
				MemoryRequest: memoryRequest,
				MemoryLimit:   memoryLimit,
			}
		}
		var jobSpecific []shared.JobTypeResourceLimit = nil
		for _, jobSpecificItem := range r.ResourceRequirements.JobSpecific {
			jobType := shared.JobType(jobSpecificItem.JobType.ValueString())
			cpuRequest1 := new(string)
			if !jobSpecificItem.ResourceRequirements.CPURequest.IsUnknown() && !jobSpecificItem.ResourceRequirements.CPURequest.IsNull() {
				*cpuRequest1 = jobSpecificItem.ResourceRequirements.CPURequest.ValueString()
			} else {
				cpuRequest1 = nil
			}
			cpuLimit1 := new(string)
			if !jobSpecificItem.ResourceRequirements.CPULimit.IsUnknown() && !jobSpecificItem.ResourceRequirements.CPULimit.IsNull() {
				*cpuLimit1 = jobSpecificItem.ResourceRequirements.CPULimit.ValueString()
			} else {
				cpuLimit1 = nil
			}
			memoryRequest1 := new(string)
			if !jobSpecificItem.ResourceRequirements.MemoryRequest.IsUnknown() && !jobSpecificItem.ResourceRequirements.MemoryRequest.IsNull() {
				*memoryRequest1 = jobSpecificItem.ResourceRequirements.MemoryRequest.ValueString()
			} else {
				memoryRequest1 = nil
			}
			memoryLimit1 := new(string)
			if !jobSpecificItem.ResourceRequirements.MemoryLimit.IsUnknown() && !jobSpecificItem.ResourceRequirements.MemoryLimit.IsNull() {
				*memoryLimit1 = jobSpecificItem.ResourceRequirements.MemoryLimit.ValueString()
			} else {
				memoryLimit1 = nil
			}
			resourceRequirements1 := shared.ResourceRequirements{
				CPURequest:    cpuRequest1,
				CPULimit:      cpuLimit1,
				MemoryRequest: memoryRequest1,
				MemoryLimit:   memoryLimit1,
			}
			jobSpecific = append(jobSpecific, shared.JobTypeResourceLimit{
				JobType:              jobType,
				ResourceRequirements: resourceRequirements1,
			})
		}
		resourceRequirements = &shared.ActorDefinitionResourceRequirements{
			Default:     defaultVar,
			JobSpecific: jobSpecific,
		}
	}
	out := shared.DestinationDefinitionUpdate{
		DestinationDefinitionID: destinationDefinitionID,
		DockerImageTag:          dockerImageTag,
		ResourceRequirements:    resourceRequirements,
	}
	return &out
}

func (r *DestinationDefinitionResourceModel) ToDeleteSDKType() *shared.CustomDestinationDefinitionCreate {
	out := r.ToCreateSDKType()
	return out
}

func (r *DestinationDefinitionResourceModel) RefreshFromGetResponse(resp *shared.DestinationDefinitionRead) {
	if resp.Custom != nil {
		r.Custom = types.BoolValue(*resp.Custom)
	} else {
		r.Custom = types.BoolNull()
	}
	r.DestinationDefinitionID = types.StringValue(resp.DestinationDefinitionID)
	r.DockerImageTag = types.StringValue(resp.DockerImageTag)
	r.DockerRepository = types.StringValue(resp.DockerRepository)
	r.DocumentationURL = types.StringValue(resp.DocumentationURL)
	if resp.Icon != nil {
		r.Icon = types.StringValue(*resp.Icon)
	} else {
		r.Icon = types.StringNull()
	}
	r.Name = types.StringValue(resp.Name)
	if resp.NormalizationConfig.NormalizationIntegrationType != nil {
		r.NormalizationConfig.NormalizationIntegrationType = types.StringValue(*resp.NormalizationConfig.NormalizationIntegrationType)
	} else {
		r.NormalizationConfig.NormalizationIntegrationType = types.StringNull()
	}
	if resp.NormalizationConfig.NormalizationRepository != nil {
		r.NormalizationConfig.NormalizationRepository = types.StringValue(*resp.NormalizationConfig.NormalizationRepository)
	} else {
		r.NormalizationConfig.NormalizationRepository = types.StringNull()
	}
	if resp.NormalizationConfig.NormalizationTag != nil {
		r.NormalizationConfig.NormalizationTag = types.StringValue(*resp.NormalizationConfig.NormalizationTag)
	} else {
		r.NormalizationConfig.NormalizationTag = types.StringNull()
	}
	if resp.NormalizationConfig.Supported != nil {
		r.NormalizationConfig.Supported = types.BoolValue(*resp.NormalizationConfig.Supported)
	} else {
		r.NormalizationConfig.Supported = types.BoolNull()
	}
	if resp.ProtocolVersion != nil {
		r.ProtocolVersion = types.StringValue(*resp.ProtocolVersion)
	} else {
		r.ProtocolVersion = types.StringNull()
	}
	if resp.ReleaseDate != nil {
		r.ReleaseDate = types.StringValue(resp.ReleaseDate.String())
	} else {
		r.ReleaseDate = types.StringNull()
	}
	if resp.ReleaseStage != nil {
		r.ReleaseStage = types.StringValue(string(*resp.ReleaseStage))
	} else {
		r.ReleaseStage = types.StringNull()
	}
	if resp.ResourceRequirements == nil {
		r.ResourceRequirements = nil
	} else {
		r.ResourceRequirements = &ActorDefinitionResourceRequirements{}
		if resp.ResourceRequirements.Default == nil {
			r.ResourceRequirements.Default = nil
		} else {
			r.ResourceRequirements.Default = &ResourceRequirements{}
			if resp.ResourceRequirements.Default.CPULimit != nil {
				r.ResourceRequirements.Default.CPULimit = types.StringValue(*resp.ResourceRequirements.Default.CPULimit)
			} else {
				r.ResourceRequirements.Default.CPULimit = types.StringNull()
			}
			if resp.ResourceRequirements.Default.CPURequest != nil {
				r.ResourceRequirements.Default.CPURequest = types.StringValue(*resp.ResourceRequirements.Default.CPURequest)
			} else {
				r.ResourceRequirements.Default.CPURequest = types.StringNull()
			}
			if resp.ResourceRequirements.Default.MemoryLimit != nil {
				r.ResourceRequirements.Default.MemoryLimit = types.StringValue(*resp.ResourceRequirements.Default.MemoryLimit)
			} else {
				r.ResourceRequirements.Default.MemoryLimit = types.StringNull()
			}
			if resp.ResourceRequirements.Default.MemoryRequest != nil {
				r.ResourceRequirements.Default.MemoryRequest = types.StringValue(*resp.ResourceRequirements.Default.MemoryRequest)
			} else {
				r.ResourceRequirements.Default.MemoryRequest = types.StringNull()
			}
		}
		if len(r.ResourceRequirements.JobSpecific) > len(resp.ResourceRequirements.JobSpecific) {
			r.ResourceRequirements.JobSpecific = r.ResourceRequirements.JobSpecific[:len(resp.ResourceRequirements.JobSpecific)]
		}
		for jobSpecificCount, jobSpecificItem := range resp.ResourceRequirements.JobSpecific {
			var jobSpecific1 JobTypeResourceLimit
			jobSpecific1.JobType = types.StringValue(string(jobSpecificItem.JobType))
			if jobSpecificItem.ResourceRequirements.CPULimit != nil {
				jobSpecific1.ResourceRequirements.CPULimit = types.StringValue(*jobSpecificItem.ResourceRequirements.CPULimit)
			} else {
				jobSpecific1.ResourceRequirements.CPULimit = types.StringNull()
			}
			if jobSpecificItem.ResourceRequirements.CPURequest != nil {
				jobSpecific1.ResourceRequirements.CPURequest = types.StringValue(*jobSpecificItem.ResourceRequirements.CPURequest)
			} else {
				jobSpecific1.ResourceRequirements.CPURequest = types.StringNull()
			}
			if jobSpecificItem.ResourceRequirements.MemoryLimit != nil {
				jobSpecific1.ResourceRequirements.MemoryLimit = types.StringValue(*jobSpecificItem.ResourceRequirements.MemoryLimit)
			} else {
				jobSpecific1.ResourceRequirements.MemoryLimit = types.StringNull()
			}
			if jobSpecificItem.ResourceRequirements.MemoryRequest != nil {
				jobSpecific1.ResourceRequirements.MemoryRequest = types.StringValue(*jobSpecificItem.ResourceRequirements.MemoryRequest)
			} else {
				jobSpecific1.ResourceRequirements.MemoryRequest = types.StringNull()
			}
			if jobSpecificCount+1 > len(r.ResourceRequirements.JobSpecific) {
				r.ResourceRequirements.JobSpecific = append(r.ResourceRequirements.JobSpecific, jobSpecific1)
			} else {
				r.ResourceRequirements.JobSpecific[jobSpecificCount].JobType = jobSpecific1.JobType
				r.ResourceRequirements.JobSpecific[jobSpecificCount].ResourceRequirements = jobSpecific1.ResourceRequirements
			}
		}
	}
	if resp.SupportLevel != nil {
		r.SupportLevel = types.StringValue(string(*resp.SupportLevel))
	} else {
		r.SupportLevel = types.StringNull()
	}
	r.SupportsDbt = types.BoolValue(resp.SupportsDbt)
}

func (r *DestinationDefinitionResourceModel) RefreshFromCreateResponse(resp *shared.DestinationDefinitionRead) {
	r.RefreshFromGetResponse(resp)
}

func (r *DestinationDefinitionResourceModel) RefreshFromUpdateResponse(resp *shared.DestinationDefinitionRead) {
	r.RefreshFromGetResponse(resp)
}
